<% include part_head %>
    <div class="container">
        <div class="row">
            <h1 style="margin-top: 50px; font-size: 3em;" class="text-center shadow">MadHacks</h1>
            <div class="col-sm-12">
                <div class="padding">
                    <h2 class="text-center">Coming Soon</h2>
                    <p class="text-center">Interested in learning about the hackathon coming to the University of Wisconsin - Madison next semester? Add your email to our list, and we'll keep you informed.</p>
                </div>
            </div>
            <div style="margin-top: 50px;" class="col-sm-12 email">
                <form id="email-form" method="get" action="http://www.hackwisconsin.com/submit-email">
                    <input type="text" placeholder="Email" name="email" id="text" class="col-sm-10">
                    <input type="submit" value="SUBMIT" class="col-sm-2 btn btn-default">
                </form>
            </div>
        </div>
    </div>
    <div id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" class="modal fade bs-example-modal-sm">
        <div class="modal fade bs-example-modal-sm">
            <div>
                <div class="modal-dialog modal-sm">
                    <div class="modal-content"></div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
      $(document).ready(function() {
          $('#myModal').modal('toggle');
      })
      $('#email-form').submit(function(event) {
          event.preventDefault();
          var constraints = {
              from: {
                  email: {
                      message: "Please enter a valid Email Address"
                  }
              }
          };
          var email = $("input[name='email']").val();
          var isValid = validate({
              from: email
          }, constraints);
          if (isValid == null) {
              var jqxhr = $.get("/subscribe/" + email, function(data) {
                  // alert( "success" );
              })
                  .done(function() {
                      console.log(jqxhr);
                  })
                  .fail(function() {
                      alert("Unable to send email to server");
                  })
                  .always(function() {});
          } else {
              alert("Please enter a valid email")
          }
      });
    </script>
<% include part_foot %>
